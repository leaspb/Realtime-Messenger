# Тестирование и качество

## Текущее состояние

- В проекте нет полноценного набора автоматизированных unit/integration/e2e тестов.
- Базовая проверка качества сейчас: `TypeScript` через `npm run check`.

## Минимальный тест-план (manual smoke)

1. Поднять приложение локально.
2. Открыть 2 браузерные вкладки.
3. Подключиться к одной комнате разными именами.
4. Отправить сообщения в обе стороны.
5. Запустить звонок в первой вкладке.
6. Подтвердить получение аудио во второй вкладке.
7. Проверить mute/unmute и завершение звонка.
8. Закрыть вкладку и убедиться, что у второго клиента приходит `user_left`.

## Рекомендации по автоматизации

1. Unit-тесты:
- сериализация/валидация signaling-сообщений;
- утилиты формирования URL/маршрутов;
- отдельные функции state-management в `use-webrtc` (после рефакторинга).

2. Integration-тесты:
- WebSocket сценарии join/message/leave;
- health endpoint.

3. E2E-тесты:
- вход в комнату;
- отправка сообщений;
- базовые состояния UI (подключение, отключение, пустая комната).

## Definition of Done для изменений

1. Изменение типизировано и проходит `npm run check`.
2. Обновлена документация в `docs/`.
3. Smoke-проверка ключевого пользовательского сценария пройдена.
